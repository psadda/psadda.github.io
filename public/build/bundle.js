var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function i(t){t.forEach(n)}function a(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function o(t,n){t.appendChild(n)}function r(t,n,e){t.insertBefore(n,e||null)}function l(t){t.parentNode.removeChild(t)}function c(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function u(t,n,e,i){return t.addEventListener(n,e,i),()=>t.removeEventListener(n,e,i)}function f(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}let h;function m(t){h=t}const b=[],g=[],v=[],y=[],w=Promise.resolve();let x=!1;function k(t){v.push(t)}function $(){const t=new Set;do{for(;b.length;){const t=b.shift();m(t),M(t.$$)}for(;g.length;)g.pop()();for(let n=0;n<v.length;n+=1){const e=v[n];t.has(e)||(e(),t.add(e))}v.length=0}while(b.length);for(;y.length;)y.pop()();x=!1}function M(t){if(null!==t.fragment){t.update(),i(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(k)}}const S=new Set;function C(t,n){t&&t.i&&(S.delete(t),t.i(n))}const N="undefined"!=typeof window?window:global;function L(t,n){t.d(1),n.delete(t.key)}function A(t,n){-1===t.$$.dirty[0]&&(b.push(t),x||(x=!0,w.then($)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function B(s,o,r,l,c,d,p=[-1]){const u=h;m(s);const f=o.props||{},b=s.$$={fragment:null,ctx:null,props:d,update:t,not_equal:c,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:e(),dirty:p};let g=!1;b.ctx=r?r(s,f,(t,n,e=n)=>(b.ctx&&c(b.ctx[t],b.ctx[t]=e)&&(b.bound[t]&&b.bound[t](e),g&&A(s,t)),n)):[],b.update(),g=!0,i(b.before_update),b.fragment=!!l&&l(b.ctx),o.target&&(o.hydrate?b.fragment&&b.fragment.l(function(t){return Array.from(t.childNodes)}(o.target)):b.fragment&&b.fragment.c(),o.intro&&C(s.$$.fragment),function(t,e,s){const{fragment:o,on_mount:r,on_destroy:l,after_update:c}=t.$$;o&&o.m(e,s),k(()=>{const e=r.map(n).filter(a);l?l.push(...e):i(e),t.$$.on_mount=[]}),c.forEach(k)}(s,o.target,o.anchor),$()),m(u)}class O{constructor(t){this.medications=t||[]}diff(t){const n=[];for(const e of this.medications)e.isNew=!t.find(e),e.isDiscontinued=!1,n.push(e);for(const e of t.medications)this.find(e)||(e.isNew=!1,e.isDiscontinued=!1,n.push(e));return new O(n)}find(t){return this.medications.find(n=>n.name==t.name&&n.dose==t.dose&&n.route==t.route&&n.frequency==t.frequency)}}function D(t,n,e){t.push({date:e,...n})}class _{constructor(t={}){this.vitals=t.vitals||[],this.ios=t.ios||[],this.medications=t.medications||[],this.labs=t.labs||new Map,this.imaging=t.imaging||[],this.problems=t.problems||[]}addDayEntry(t){this.name=t.name;const n=(new Date).toDateString();var e,i;D(this.vitals,t.vitals,n),D(this.ios,t.ios,n),this.medications=(e=t.medications,i=this.medications,new O(e).diff(new O(i)).medications),this.labs=t.labs,this.imaging=t.imaging}toJSON(){this.name,Array.from(this.vitals.entries()),Array.from(this.ios.entries()),this.medications,Array.from(this.labs.entries()),Array.from(this.imaging.entries());return JSON.stringify(this)}static fromJSON(){const t=JSON.parse(string);this.name=t.name,this.vitals=new Map(t.vitals),this.ios=new Map(t.ios),this.medications=new Map(t.medications),this.labs=new Map(t.labs),this.imaging=new Map(t.imaging)}}function I(t){return{name:P(t),vitals:F(t),ios:G(t),medications:T(t),labs:Y(t),imaging:void 0}}function H(t,n){let e=t.match(n);return e?e[1]:null}function P(t){return H(t,/^Pt|Patient:\s*(.+?)$/im)}const J=/Scheduled[^:]*:([\s\S]*?)\n\W+\n/i,R=/^•\s+(.*?)\t(.*?)\t(.*?)\t(.*?)$/gm;function T(t){const n=H(t,J);if(!n)return[];const e=n.matchAll(R);return Array.from(e,t=>({name:t[1].toLowerCase(),dose:t[2],route:t[3].toLowerCase(),frequency:t[4].toLowerCase()}))}const E=/Patient Vitals for the past 24 hrs:([\s\S]*?)\n\W+\n/i;function j(t){const n=t.map(t=>t[1].trim()),e=n[n.length-1];return n.sort((t,n)=>parseInt(t)-parseInt(n)),{current:e,min:n[0],max:n[n.length-1]}}const q=/\d+(\.\d+)?/;function V(t){const n=t.match(q);return n?n[0]:null}function W(t,n){const e=t.map(t=>t[n]).map(V).map(parseFloat).filter(t=>!isNaN(t));return{current:e[e.length-1],min:Math.min(...e),max:Math.max(...e)}}function F(t){const n=H(t,E);if(!n)return null;let e=n.trim().split(/\r?\n/);return e.shift(),e=e.map(t=>t.split("\t")),{bp:j(e),temp:W(e,2),hr:W(e,4),rr:W(e,5),spo2:W(e,6)}}const U=/Intake\/Output Summary([\s\S]*?)\n\W+\n/i;function z(t,n){const e=t.match(n);return e?parseInt(e[1]):void 0}function G(t){const n=H(t,U);return n?{in:z(n,/Intake\s+(-?\d+)/i),out:z(n,/Output\s+(-?\d+)/i),net:z(n,/Net\s+(-?\d+)/i)}:null}const K=/^Recent Results([\s\S]*?)\n\W+\n/im,Q=/^(.+)\n\tCollection Time:\s+(.+)$/gim,X=/^.+\n\tCollection Time:\s+.+$/gim;function Y(t){let n=H(t,K);if(!n)return[];let e=Array.from(n.matchAll(Q)),i=n.split(X);return i.shift(),e.map((t,n)=>[t,i[n]]).flatMap(([t,n])=>{let[,e,i]=t,a=function(t,n){let e=n.trim().split("\n");return nt.has(t.toLowerCase())?(e.shift(),e.map(tt)):"Surgical Pathology"==t?[]:t.toLowerCase().startsWith("ekg 12 lead")?[]:[tt(e[0])]}(e,n),s=new Date(i).toDateString();for(const t of a)t.date=s;return a}).groupBy("date")}Array.prototype.groupBy=function(t){const n=new Map;for(const e of this){let i=e[t];n.has(i)||n.set(i,[]),n.get(i).push(e)}return n};const Z=/^(<|>)?\s*(\d+(?:\.\d+)?)(?:\s+\((H|L)\))?/i;function tt(t){let[n,e]=t.trim().split("\t");n=n;const i=e.match(Z);if(i){let[,t,e,a]=i;return t&&(e=t+" "+e),{name:n,value:e,abnormality:a}}return{name:n,value:e}}const nt=new Set(["cmp","cbc with differential","basic metabolic panel"]);function et(t,n){let e="",i=t;e+='<article class="patient"> <h2 class="patient-name">',e+=i.name,e+='</h2> <div class="patient-info"> <section class="patient-vitals"> <h3>Vitals</h3> <table> <tr><th>Date</th><th>Temp</th><th>RR</th><th>HR</th><th>BP</th></tr> ';for(const t of i.vitals)i=t,e+=" <tr> <td>",e+=n.date(i.date),e+="</td> <td>",i.temp&&(e+=i.temp.current,e+="°F (",e+=i.temp.min,e+="°F - ",e+=i.temp.max,e+="°F)"),e+="</td> <td>",i.rr&&(e+=i.rr.current,e+=" (",e+=i.rr.min,e+=" - ",e+=i.rr.max,e+=")"),e+="</td> <td>",i.hr&&(e+=i.hr.current,e+=" (",e+=i.hr.min,e+=" - ",e+=i.hr.max,e+=")"),e+="</td> <td>",i.bp&&(e+=i.bp.current,e+=" (",e+=i.bp.min,e+=" - ",e+=i.bp.max,e+=")"),e+="</td> </tr> ";i=t,e+=" </table> <h3>Inputs/Outputs</h3> <table> <tr><th>Date</th><th>In</th><th>Out</th><th>Net</th></tr> ";for(const t of i.ios)i=t,e+=" <tr> <td>",e+=n.date(i.date),e+="</td> <td>",i.in&&(e+=i.in,e+=" mL"),e+="</td> <td>",i.out&&(e+=i.out,e+=" mL"),e+="</td> <td>",i.net&&(e+=i.net,e+=" mL"),e+="</td> </tr> ";i=t,e+=' </table> </section> <section class="patient-labs"> <h3>Labs</h3> <ul> ';for(const[a,s]of i.labs)e+=' <li> <h4 class="patient-labs-date">',e+=n.date(a),e+="</h4> ",i=s,e+=" ",e+='<div class="patient-labs-boxes"> <div class="patient-labs-bmp"> <svg viewBox="0 0 1 1" preserveAspectRatio="none"> <line x1="0" y1="0.5" x2="0.75" y2="0.5" stroke="black" stroke-width="0.018" /> <line x1="0.275" y1="0" x2="0.275" y2="1" stroke="black" stroke-width="0.0065" /> <line x1="0.55" y1="0" x2="0.55" y2="1" stroke="black" stroke-width="0.0065" /> <line x1="0.75" y1="0.5" x2="0.975" y2="0.1" stroke="black" stroke-width="0.0085" /> <line x1="0.75" y1="0.5" x2="0.975" y2="0.9" stroke="black" stroke-width="0.0085" /> </svg> <table> ',i=n.bmp(i,a),e+=" <tr> <td>",i.na&&(e+=i.na),e+="</td> <td>",i.cl&&(e+=i.cl),e+="</td> <td>",i.bun&&(e+=i.bun),e+='</td> <td rowspan="2">',i.glu&&(e+=i.glu),e+="</td> </tr> <tr> <td>",i.k&&(e+=i.k),e+="</td> <td>",i.hco3&&(e+=i.hco3),e+="</td> <td>",i.cr&&(e+=i.cr),e+="</td> </tr> ",i=s,e+=' </table> </div> <div class="patient-labs-cbc"> <svg viewBox="0 0 1 1" preserveAspectRatio="none"> <line x1="0" y1="0" x2="1" y2="1" stroke="black" stroke-width="0.0125" /> <line x1="0" y1="1" x2="1" y2="0" stroke="black" stroke-width="0.0125" /> </svg> ',i=n.cbc(i,a),e+=" <div>",i.hgb&&(e+=i.hgb),e+="</div> <div>",i.wbc&&(e+=i.wbc),e+="</div><div>",i.plt&&(e+=i.plt),e+="</div> <div>",i.hct&&(e+=i.hct),e+="</div> ",i=s,e+=" </div> </div> <ul> </ul>",e+=" ",i=t,e+=" </li> ";e+=' </ul> </section> <section class="patient-medications"> <h3>Medications</h3> <ul> ';for(const t of i.medications)i=t,e+=" <li> ",i.isNew&&(e+=' <span class="patient-medication-started">+</span> '),e+=" ",i.isDiscontinued&&(e+=' <span class="patient-medication-stopped">&minus;</span> '),e+=" ",e+=i.name,e+=" ",e+=i.dose,e+=" ",e+=i.route,e+=" ",e+=i.frequency,e+=" </li> ";return i=t,e+=" </ul> </section> </div> </article> ",e}function it(t,n){const e=t.find(t=>t.name==n);return e?e.value:e}function at(t){return{na:it(t,"Sodium"),k:it(t,"Potassium"),cl:it(t,"Chloride"),hco3:it(t,"Bicarbonate")||it(t,"Carbon Dioxide"),bun:it(t,"BUN"),cr:it(t,"Creatinine"),glu:it(t,"Glucose")}}function st(t){return{wbc:it(t,"WBC"),hgb:it(t,"Hemoglobin"),hct:it(t,"Hematocrit"),plt:it(t,"Platelet Count")}}const{document:ot,window:rt}=N;function lt(t,n,e){const i=t.slice();return i[13]=n[e],i}function ct(t,n){let e,a,s,h,m,b,g,v,y,w,x=n[13].name+"";return{key:t,first:null,c(){e=c("li"),a=c("span"),s=d(x),h=p(),m=c("textarea"),b=d("\n\t\tLabs\n\t\t"),g=c("div"),v=c("button"),v.innerHTML='<svg alt="Delete" class="icon svelte-1afdpfu" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>',f(a,"class","patient-name svelte-1afdpfu"),f(m,"placeholder","Update"),f(m,"class","svelte-1afdpfu"),f(v,"class","svelte-1afdpfu"),f(g,"class","controls svelte-1afdpfu"),f(e,"data-patient-id",y=n[13].id),f(e,"class","svelte-1afdpfu"),w=[u(m,"change",n[3]),u(v,"click",n[4])],this.first=e},m(t,n){r(t,e,n),o(e,a),o(a,s),o(e,h),o(e,m),o(e,b),o(e,g),o(g,v)},p(t,n){1&n&&x!==(x=t[13].name+"")&&function(t,n){n=""+n,t.data!==n&&(t.data=n)}(s,x),1&n&&y!==(y=t[13].id)&&f(e,"data-patient-id",y)},d(t){t&&l(e),i(w)}}}function dt(n){let e,a,s,d,h,m,b,g,v,y,w,x,k,$,M,S,N,A,B,O,D,_=[],I=new Map,H=n[0];const P=t=>t[13].id;for(let t=0;t<H.length;t+=1){let e=lt(n,H,t),i=P(e);I.set(i,_[t]=ct(i,e))}return{c(){e=c("link"),a=c("style"),a.textContent=".printable-patient-list {\n\t\t\tfont-size: 14px;\n\t\t\tfont-family: sans-serif;\n\t\t}\n\n\t\t.printable-patient-list .patient-info > section,\n\t\t.printable-patient-list > .patient > h2 {\n\t\t\tpadding: 0 2rem;\n\t\t}\n\n\t\t.printable-patient-list .patient-info {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template: 50% 50% / 32% 32% 32%;\n\t\t\tgrid-column-gap: 2%;\n\t\t\tcolumn-rule: 1px dashed #ccc;\n\t\t}\n\n\t\t.printable-patient-list .patient-labs ul {\n\t\t\tpadding: 0;\n\t\t\tlist-style-type: none;\n\t\t}\n\n\t\t.patient-labs-boxes {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-around;\n\t\t}\n\n\t\t.printable-patient-list .patient-labs-cbc {\n\t\t\tline-height: 1.35;\n\t\t}\n\n\t\t.printable-patient-list .patient-medications ul {\n\t\t\tpadding-left: 1em;\n\t\t}\n\n\t\t.printable-patient-list > .patient > .patient-name {\n\t\t\tcolumn-span: all;\n\t\t}\n\n\t\t.printable-patient-list .patient-info > .patient-vitals {\n\t\t\tgrid-area: 1 / 1 / 2 / 2;\n\t\t}\n\n\t\t.printable-patient-list .patient-info > .patient-labs {\n\t\t\tgrid-area: 1 / 2 / 2 / 4;\n\t\t\tcolumn-count: 2;\n\t\t\tcolumn-fill: auto;\n\t\t}\n\n\t\t.printable-patient-list .patient-info > .patient-medications {\n\t\t\tgrid-area: 2 / 3 / 3 / 4;\n\t\t}\n\n\t\t.printable-patient-list table {\n\t\t\tborder-collapse: collapse;\n\t\t}\n\n\t\t.printable-patient-list .patient-vitals table {\n\t\t\twidth: 100%;\n\t\t\ttext-align: center;\n\t\t}\n\n\t\t.printable-patient-list th, .printable-patient-list td {\n\t\t\tborder: 1px solid #ccc;\n\t\t\tpadding: 0.3em;\n\t\t}\n\n\t\t@media print {\n\t\t\t@page {\n\t\t\t\tsize: letter landscape;\n\t\t\t\tmargin: 0;\n\t\t\t}\n\n\t\t\t.patients-editor {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t\t.printable-patient-list .patient-info {\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template: 50vh 50vh / 32% 32% 32%;\n\t\t\t\tgrid-column-gap: 2%;\n\t\t\t\tcolumn-rule: 1px dashed #ccc;\n\t\t\t}\n\n\t\t}\n\n\t\t/** CBC **/\n\n\t\t.patient-labs-cbc {\n\t\t\twidth: 10em;\n\t\t\ttext-align: center;\n\t\t\tposition: relative;\n\t\t\ttop: 0;\n\t\t}\n\n\t\t.patient-labs-cbc > svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\twidth: 80%;\n\t\t\tmargin: 0 10%;\n\t\t\theight: 4em;\n\t\t\tvertical-align: middle;\n\t\t}\n\n\t\t.patient-labs-cbc div {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t.patient-labs-cbc div:nth-of-type(1), .patient-labs-cbc div:nth-of-type(4) {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t.patient-labs-cbc div:nth-of-type(2) {\n\t\t\twidth: 33%;\n\t\t\tmargin-right: 16.5%;\n\t\t}\n\n\t\t.patient-labs-cbc div:nth-of-type(3) {\n\t\t\twidth: 33%;\n\t\t\tmargin-left: 16.5%;\n\t\t}\n\n\t\t/** BMP **/\n\n\t\t.patient-labs-bmp {\n\t\t\tposition: relative;\n\t\t\ttop: 0;\n\t\t\twidth: 12em;\n\t\t\theight: 4em;\n\t\t\ttext-align: center;\n\t\t}\n\n\t\t.patient-labs-bmp > svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 4em;\n\t\t\tmargin: auto;\n\t\t}\n\n\t\t.patient-labs-bmp > table {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tborder-collapse: collapse;\n\t\t}\n\n\t\t.patient-labs-bmp > table td {\n\t\t\twidth: 27.5%;\n\t\t\tborder: none;\n\t\t}\n\n\t\t.patient-labs-bmp > table td:last-child {\n\t\t\tvertical-align: middle;\n\t\t}",s=p(),d=c("div"),h=c("ul");for(let t=0;t<_.length;t+=1)_[t].c();m=p(),b=c("li"),g=c("textarea"),v=p(),y=c("ul"),w=c("li"),x=c("button"),x.innerHTML='<svg alt="Print" class="icon svelte-1afdpfu" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect></svg>',k=p(),$=c("li"),M=c("button"),M.innerHTML='<svg alt="Clear" class="icon svelte-1afdpfu" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>',S=p(),N=c("li"),A=c("button"),A.innerHTML='<svg alt="Permalink" class="icon svelte-1afdpfu" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>',B=p(),O=c("div"),f(e,"rel","stylesheet"),f(e,"type","text/css"),f(e,"href","/print.css"),f(g,"placeholder","New Patient"),f(g,"class","svelte-1afdpfu"),f(b,"class","svelte-1afdpfu"),f(h,"class","patients svelte-1afdpfu"),f(x,"class","svelte-1afdpfu"),f(w,"class","svelte-1afdpfu"),f(M,"class","svelte-1afdpfu"),f($,"class","svelte-1afdpfu"),f(A,"class","svelte-1afdpfu"),f(N,"class","svelte-1afdpfu"),f(y,"class","controls svelte-1afdpfu"),f(d,"class","patients-editor svelte-1afdpfu"),f(O,"class","printable-patient-list"),D=[u(rt,"load",n[6]()),u(g,"change",n[2]),u(x,"click",n[1]),u(M,"click",n[1]),u(A,"click",n[5])]},m(t,n){o(ot.head,e),o(ot.head,a),r(t,s,n),r(t,d,n),o(d,h);for(let t=0;t<_.length;t+=1)_[t].m(h,null);o(h,m),o(h,b),o(b,g),o(d,v),o(d,y),o(y,w),o(w,x),o(y,k),o(y,$),o($,M),o(y,S),o(y,N),o(N,A),r(t,B,n),r(t,O,n)},p(t,[n]){const e=t[0];_=function(t,n,e,i,a,s,o,r,l,c,d,p){let u=t.length,f=s.length,h=u;const m={};for(;h--;)m[t[h].key]=h;const b=[],g=new Map,v=new Map;for(h=f;h--;){const t=p(a,s,h),r=e(t);let l=o.get(r);l?i&&l.p(t,n):(l=c(r,t),l.c()),g.set(r,b[h]=l),r in m&&v.set(r,Math.abs(h-m[r]))}const y=new Set,w=new Set;function x(t){C(t,1),t.m(r,d),o.set(t.key,t),d=t.first,f--}for(;u&&f;){const n=b[f-1],e=t[u-1],i=n.key,a=e.key;n===e?(d=n.first,u--,f--):g.has(a)?!o.has(i)||y.has(i)?x(n):w.has(a)?u--:v.get(i)>v.get(a)?(w.add(i),x(n)):(y.add(a),u--):(l(e,o),u--)}for(;u--;){const n=t[u];g.has(n.key)||l(n,o)}for(;f;)x(b[f-1]);return b}(_,n,P,1,t,e,I,h,L,ct,m,lt)},i:t,o:t,d(t){l(e),l(a),t&&l(s),t&&l(d);for(let t=0;t<_.length;t+=1)_[t].d();t&&l(B),t&&l(O),i(D)}}}let pt=1;const ut=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ft(t){let[n,e,i,a]=t.split(" ");return e=ut.indexOf(e)+1,e.toString()+"/"+i}function ht(t){return parseInt(t.target.closest("li").dataset.patientId)}function mt(t,n,e){let i=[];function a(t){return i.findIndex(n=>n.id==t)}const s={bmp:at,cbc:st,date:ft};function o(){const t=encodeURIComponent(void JSON.stringify(i.map(t=>t.toJSON())));return window.location.pathname+"#"+t}function r(t){var n;n=decodeURIComponent(t),e(0,i=JSON.parse(n).map(t=>new _(t)))}return[i,function(){let t="";for(let n of i)t+=et(n,s);document.querySelector(".printable-patient-list").innerHTML=t},function(t){const n=t.target.value;if(0===n.trim().length)return;t.target.value="";const a=new _;a.addDayEntry(I(n)),a.id=pt,e(0,i=[...i,a]),pt++},function(t){const n=t.target.value;if(0===n.trim().length)return;t.target.value="";const s=a(ht(t)),o=i.slice();o[s].addInfo(I(n)),e(0,i=o)},function(t){const n=a(ht(t));e(0,i=[...i.slice(0,n),...i.slice(n+1)])},function(t){o()},function(t){const n=window.location.hash;n.length>0&&r(n.slice(1))}]}return new class extends class{$destroy(){!function(t,n){const e=t.$$;null!==e.fragment&&(i(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}{constructor(t){super(),B(this,t,mt,dt,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
